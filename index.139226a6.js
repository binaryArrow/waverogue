function t(t,i,e,s){Object.defineProperty(t,i,{get:e,set:s,enumerable:!0,configurable:!0})}function i(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},h={},a=e.parcelRequire8033;null==a&&((a=function(t){if(t in s)return s[t].exports;if(t in h){var i=h[t];delete h[t];var e={id:t,exports:{}};return s[t]=e,i.call(e.exports,e,e.exports),e.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,i){h[t]=i},e.parcelRequire8033=a),a.register("27Lyk",(function(i,e){var s,h;t(i.exports,"register",(()=>s),(t=>s=t)),t(i.exports,"resolve",(()=>h),(t=>h=t));var a={};s=function(t){for(var i=Object.keys(t),e=0;e<i.length;e++)a[i[e]]=t[i[e]]},h=function(t){var i=a[t];if(null==i)throw new Error("Could not resolve bundle with id "+t);return i}})),a("27Lyk").register(JSON.parse('{"aT88m":"index.139226a6.js","7mPVQ":"player_idle.8090cfb0.png","cFRPW":"player_idle_left.48fbf389.png","hYLHF":"player_run_right.79c89377.png","hjE6S":"player_run_left.c3b195f5.png","jcSwW":"player_jump_right.ea2ec690.png","8Sqnk":"player_jump_left.f14862bd.png","lMJwv":"player_fall_right.f8a07a8c.png","eeLlx":"player_fall_left.b4a2ccaf.png","amK9J":"player_crouch_right.1aa28ded.png","7EwGS":"player_crouch_left.4b3b2458.png","9zpHm":"player_dash_right.6c9fbc0f.png","b2ZHf":"player_dash_left.aec0f2f0.png","h6VF7":"player_attack_1_right.d47c420e.png","kraFs":"player_attack_1_left.780e3e84.png","4dZjq":"player_hurt_right.3811c37e.png","lBN61":"player_hurt_left.81b37c21.png","l6AEb":"player_die_right.8048e3c4.png","9nAjx":"player_dead_right.ad5fcca4.png","2753j":"player_die_left.ea81658d.png","bH4Hm":"player_dead_left.8f9ac271.png","5InCD":"skeleton_idle_right.4199dc9b.png","kmxRn":"skeleton_idle_left.6a02327d.png","3x1nC":"take_hit_right.c2ee671a.png","4NeLc":"take_hit_left.ce2af2ea.png","lF0Od":"walk_right.188164c4.png","3DHVn":"walk_left.01cefb62.png","1Nzm6":"skeleton_attack_right.991f8bfb.png","04oTN":"skeleton_attack_left.87808b77.png","aJOfs":"skeleton_die_right.ce8e3875.png","UO3K2":"skeleton_die_left.cf7b3701.png","aeL0w":"map.c9a313ac.png"}'));class o{gravity=10;velocityX=0;velocityY=100;startVelocity=100;inAir=!0;movementSpeed=0;fallSpeed=0;collides=!1;moveLeftIndicator=!1;moveRightIndicator=!1;jumpIndicator=!1;hit=!1;hitLeft=!1;hitRight=!1;attackRight=!1;attackLeft=!1;dead=!1;constructor(t,i,e,s,h,a,o){this.context=t,this.posX=i,this.posY=e,this.movementSpeed=s,this.jumpSpeed=h,this.width=a,this.height=o,this.fallSpeed=this.velocityY}draw(t,i){this.context.imageSmoothingEnabled=!1,this.context.fillStyle=this.collides?"#a66c6c":"#94c781",this.context.strokeStyle="#ff2929",this.context.lineWidth=2,t&&(this.context.fillRect(this.posX,this.posY,this.width,this.height),this.context.strokeRect(this.posX,this.posY,this.width,this.height)),i&&this.context.strokeRect(this.posX,this.posY,this.width,this.height)}moveLeft(){this.velocityX=-this.movementSpeed}moveRight(){this.velocityX=this.movementSpeed}stopMovingXAxis(){this.velocityX=0}fall(t){t=Math.min(t,.012),this.velocityY+=this.gravity,this.posY+=Math.floor(this.velocityY*t),this.velocityY>this.startVelocity+this.gravity&&(this.inAir=!0)}update(t){}}let r;function n(t,i,e,s){return(t/=s/2)<1?e/2*t*t*t*t*t+i:e/2*((t-=2)*t*t*t*t+2)+i}!function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"}(r||(r={}));class l{static playerRollCooldown=.8;static playerAttackSpeed=.5;static activateAttackHitbox=.3;static playerHeight=68;static playerHeightCrouch=34;static playerMoveSpeed=300;static playerWidth=20;static playerJumpSpeed=300;static playerAttackCooldown=.5;static playerHitCooldown=1;static playerDieAnimationTime=.4;static skeletonHeight=90;static skeletonWidth=30;static skeletonMovementSpeed=150;static skeletonAttackSpeed=.5;static skeletonHitCooldown=.5;static skeletonActivateHitbox=.4;static skeletonAttackCooldown=.3;static skeletonDieAnimationtime=.4}class c{constructor(t,i,e,s){this.posX=t,this.posY=i,this.width=e,this.height=s}}var d;d=new URL(a("27Lyk").resolve("7mPVQ"),import.meta.url).toString();var p;p=new URL(a("27Lyk").resolve("cFRPW"),import.meta.url).toString();var g;g=new URL(a("27Lyk").resolve("hYLHF"),import.meta.url).toString();var m;m=new URL(a("27Lyk").resolve("hjE6S"),import.meta.url).toString();var w;w=new URL(a("27Lyk").resolve("jcSwW"),import.meta.url).toString();var y;y=new URL(a("27Lyk").resolve("8Sqnk"),import.meta.url).toString();var f;f=new URL(a("27Lyk").resolve("lMJwv"),import.meta.url).toString();var k;k=new URL(a("27Lyk").resolve("eeLlx"),import.meta.url).toString();var u;u=new URL(a("27Lyk").resolve("amK9J"),import.meta.url).toString();var S;S=new URL(a("27Lyk").resolve("7EwGS"),import.meta.url).toString();var R;R=new URL(a("27Lyk").resolve("9zpHm"),import.meta.url).toString();var v;v=new URL(a("27Lyk").resolve("b2ZHf"),import.meta.url).toString();var L;L=new URL(a("27Lyk").resolve("h6VF7"),import.meta.url).toString();var H;H=new URL(a("27Lyk").resolve("kraFs"),import.meta.url).toString();var I;I=new URL(a("27Lyk").resolve("4dZjq"),import.meta.url).toString();var A;A=new URL(a("27Lyk").resolve("lBN61"),import.meta.url).toString();var x;x=new URL(a("27Lyk").resolve("l6AEb"),import.meta.url).toString();var _;_=new URL(a("27Lyk").resolve("9nAjx"),import.meta.url).toString();var X;X=new URL(a("27Lyk").resolve("2753j"),import.meta.url).toString();var C;C=new URL(a("27Lyk").resolve("bH4Hm"),import.meta.url).toString();class E{image=new Image;frame=0;startingPoint=0;constructor(t,i,e,s,h){this.singleSpriteWidth=t,this.singleSpriteHeight=i,this.context=h,this.image.src=s,this.singleSpriteCount=e}drawIndividualSprite(t,i,e,s,h,a){this.context.drawImage(this.image,t*this.singleSpriteWidth,i*this.singleSpriteHeight,this.singleSpriteWidth,this.singleSpriteHeight,h,a,e,s)}animate(t,i,e,s,h,a,o){this.frame%t==0&&(this.startingPoint++,this.startingPoint>=this.singleSpriteCount&&(this.startingPoint=0)),this.drawIndividualSprite(this.startingPoint,0,s,h,i-a/2,e-o/2),this.frame++,this.frame>=60&&(this.frame=0)}animationFinished(){return this.startingPoint===this.singleSpriteCount||0==this.startingPoint}resetActualsprite(){this.startingPoint=0}}class P{image=new Image;constructor(t,i){this.image.src=t,this.context=i}drawSprite(t,i,e,s){this.context.drawImage(this.image,t,i,e,s)}}class D{constructor(t){this.context=t,this.spriteSheetPlayerIdleRight=new E(24,37,5,i(d),t),this.spriteSheetPlayerIdleLeft=new E(24,37,5,i(p),t),this.spriteSheetPlayerRunRight=new E(30,36,8,i(g),t),this.spriteSheetPlayerRunLeft=new E(30,36,8,i(m),t),this.spriteSheetPlayerJumpRight=new E(24,37,3,i(w),t),this.spriteSheetPlayerJumpLeft=new E(24,37,3,i(y),t),this.spriteSheetPlayerFallRight=new E(24,37,3,i(f),t),this.spriteSheetPlayerFallLeft=new E(24,37,3,i(k),t),this.spriteSheetPlayerCrouchRight=new E(24,37,4,i(u),t),this.spriteSheetPlayerCrouchLeft=new E(24,37,4,i(S),t),this.spriteSheetPlayerAttack1Right=new E(56,44,8,i(L),t),this.spriteSheetPlayerAttack1Left=new E(56,44,8,i(H),t),this.spriteSheetPlayerHurtRight=new E(64,44,4,i(I),t),this.spriteSheetPlayerHurtLeft=new E(64,44,4,i(A),t),this.spriteSheetPlayerDieRight=new E(64,44,11,i(x),t),this.spriteSheetPlayerDieLeft=new E(64,44,11,i(X),t),this.spritePlayerDeadRight=new P(i(_),t),this.spritePlayerDeadLeft=new P(i(C),t),this.spritePlayerDashRight=new P(i(R),t),this.spritePlayerDashLeft=new P(i(v),t)}}class Y extends o{faceDirection=r.RIGHT;attackHitbox=new c(this.posX,this.posY,2*this.width,this.height);dashIndicator=!1;attackIndicator=!1;crouchIndicator=!1;isCrouching=!1;dashRange=25;timePassedRoll=0;timePassedAttack=0;rollCooldown=0;health=100;attackDamage=10;activateDamage=!1;attackCooldown=0;hitCooldown=0;timePassedDying=0;constructor(t,i,e,s,h,a,o){super(t,i,e,s,h,a,o),this.rollPosition=this.posX,this.initMovement(),this.sprites=new D(t)}update(t){this.draw(!1,!1),this.dead||this.updateMovement(t),this.animate(t),this.applyVelocity(t)}updateMovement(t){this.moveLeftIndicator&&!this.crouchIndicator?this.moveLeft():this.moveRightIndicator&&!this.crouchIndicator?this.moveRight():this.moveRightIndicator&&this.moveLeftIndicator||this.stopMovingXAxis(),this.jumpIndicator&&this.jump(),this.dashIndicator&&(this.setRollPosition(),this.applyRoll(t)),this.attackIndicator&&this.applyAttack(t),this.crouchIndicator&&(this.applyCrouch(),this.moveLeftIndicator&&(this.faceDirection=r.LEFT),this.moveRightIndicator&&(this.faceDirection=r.RIGHT))}applyVelocity(t){this.dashIndicator||this.attackIndicator||(this.velocityX<0&&!this.hit?this.faceDirection=r.LEFT:this.velocityX>0&&!this.hit&&(this.faceDirection=r.RIGHT),this.posX+=this.velocityX*t,this.rollCooldown>0&&(this.rollCooldown-=t),this.attackCooldown>0&&(this.attackCooldown-=t),this.hitCooldown>0&&(this.hitCooldown-=t)),this.fall(t)}initMovement(){window.addEventListener("click",(()=>{!this.dashIndicator&&this.timePassedAttack<=0&&!this.inAir&&!this.crouchIndicator&&this.attackCooldown<=0&&this.hitCooldown<=0&&(this.attackIndicator=!0,this.activateDamage=!0,this.attackHitbox={posX:0,posY:0,width:0,height:0})})),window.addEventListener("keypress",(t=>{"w"!==t.key||this.inAir||this.isCrouching||this.hit||(this.jumpIndicator=!0)," "!==t.key||this.inAir||!(this.rollCooldown<=0)||this.attackIndicator||this.collides||this.hit||(this.dashIndicator=!0,this.crouchIndicator=!1,this.resetCrouch())})),window.addEventListener("keydown",(t=>{if(!this.hit)switch(t.key){case"a":this.moveLeftIndicator=!0;break;case"d":this.moveRightIndicator=!0}})),window.addEventListener("keyup",(t=>{switch(t.key){case"a":this.moveLeftIndicator=!1;break;case"d":this.moveRightIndicator=!1}}))}setRollPosition(){this.faceDirection==r.RIGHT&&(this.rollPosition=this.posX+this.dashRange),this.faceDirection==r.LEFT&&(this.rollPosition=this.posX-this.dashRange)}applyRoll(t){this.timePassedRoll+=t,this.faceDirection===r.RIGHT&&(this.posX=n(this.timePassedRoll,this.posX,this.dashRange,.2),this.collides?this.sprites.spriteSheetPlayerIdleRight.animate(10,this.posX,this.posY+21,40,80,this.width,this.height):this.sprites.spritePlayerDashRight.drawSprite(this.posX-2*this.width,this.posY-23,120,88),this.posX>=this.rollPosition&&(this.timePassedRoll=0,this.dashIndicator=!1,this.posX=this.rollPosition,this.rollCooldown=l.playerRollCooldown)),this.faceDirection===r.LEFT&&(this.posX=n(this.timePassedRoll,this.posX,-this.dashRange,.2),this.collides?this.sprites.spriteSheetPlayerIdleLeft.animate(10,this.posX,this.posY+21,40,80,this.width,this.height):this.sprites.spritePlayerDashLeft.drawSprite(this.posX-2*this.width-10,this.posY-23,120,88),this.posX<=this.rollPosition&&(this.timePassedRoll=0,this.dashIndicator=!1,this.posX=this.rollPosition,this.rollCooldown=l.playerRollCooldown))}applyAttack(t){this.timePassedAttack+=t,this.faceDirection===r.RIGHT&&this.timePassedAttack>l.activateAttackHitbox&&(this.context.strokeStyle="#000000",this.attackHitbox={posX:this.posX+this.width,posY:this.posY,width:2*this.width,height:this.height},this.timePassedAttack>=l.playerAttackSpeed&&(this.attackIndicator=!1,this.timePassedAttack=0,this.attackCooldown=l.playerAttackCooldown)),this.faceDirection===r.LEFT&&this.timePassedAttack>l.activateAttackHitbox&&(this.context.strokeStyle="#000000",this.attackHitbox={posX:this.posX-2*this.width,posY:this.posY,width:2*this.width,height:this.height},this.timePassedAttack>=l.playerAttackSpeed&&(this.attackIndicator=!1,this.timePassedAttack=0,this.attackCooldown=l.playerAttackCooldown))}jump(){this.velocityY=-this.jumpSpeed,this.jumpIndicator=!1,this.inAir=!0}applyCrouch(){this.inAir?this.resetCrouch():(this.height=l.playerHeightCrouch,this.isCrouching||(this.posY+=l.playerHeightCrouch,this.isCrouching=!0))}resetCrouch(){this.isCrouching&&(this.movementSpeed=l.playerMoveSpeed,this.height=l.playerHeight,this.posY-=l.playerHeightCrouch,this.isCrouching=!1)}animate(t){this.dead||this.hit||!(this.velocityX>0)||this.inAir||this.dashIndicator||this.crouchIndicator||this.attackIndicator?this.dead||this.hit||!(this.velocityX<0)||this.inAir||this.dashIndicator||this.crouchIndicator||this.attackIndicator?this.dead||this.hit||this.faceDirection!=r.RIGHT||this.inAir||this.crouchIndicator||this.dashIndicator||this.attackIndicator?this.dead||this.hit||this.faceDirection!=r.LEFT||this.inAir||this.crouchIndicator||this.dashIndicator||this.attackIndicator?!this.dead&&!this.hit&&this.inAir&&this.faceDirection==r.RIGHT&&this.velocityY<=0&&!this.dashIndicator?this.sprites.spriteSheetPlayerJumpRight.animate(10,this.posX,this.posY+23,40,80,this.width,this.height):!this.dead&&!this.hit&&this.inAir&&this.faceDirection==r.LEFT&&this.velocityY<=0&&!this.dashIndicator?this.sprites.spriteSheetPlayerJumpLeft.animate(10,this.posX,this.posY+23,40,80,this.width,this.height):!this.dead&&!this.hit&&this.inAir&&this.faceDirection==r.RIGHT&&this.velocityY>=0&&!this.dashIndicator?this.sprites.spriteSheetPlayerFallRight.animate(10,this.posX,this.posY+23,40,80,this.width,this.height):!this.dead&&!this.hit&&this.inAir&&this.faceDirection==r.LEFT&&this.velocityY>=0&&!this.dashIndicator?this.sprites.spriteSheetPlayerFallLeft.animate(10,this.posX,this.posY+23,40,80,this.width,this.height):this.dead||this.hit||!this.crouchIndicator||this.faceDirection!=r.RIGHT||this.inAir||this.dashIndicator||this.attackIndicator?this.dead||this.hit||!this.crouchIndicator||this.faceDirection!=r.LEFT||this.inAir||this.dashIndicator||this.attackIndicator||this.sprites.spriteSheetPlayerCrouchLeft.animate(13,this.posX,this.posY-28,40,80,this.width,this.height):this.sprites.spriteSheetPlayerCrouchRight.animate(13,this.posX,this.posY-28,40,80,this.width,this.height):this.sprites.spriteSheetPlayerIdleLeft.animate(10,this.posX,this.posY+21,40,80,this.width,this.height):this.sprites.spriteSheetPlayerIdleRight.animate(10,this.posX,this.posY+21,40,80,this.width,this.height):this.sprites.spriteSheetPlayerRunLeft.animate(5,this.posX,this.posY+23,50,80,this.width-10,this.height):this.sprites.spriteSheetPlayerRunRight.animate(5,this.posX,this.posY+23,50,80,this.width+20,this.height),this.dead||this.hit||!this.attackIndicator||this.faceDirection!=r.RIGHT?this.sprites.spriteSheetPlayerAttack1Right.resetActualsprite():this.sprites.spriteSheetPlayerAttack1Right.animate(4,this.posX-15,this.posY+13,100,90,this.width,this.height),this.dead||this.hit||!this.attackIndicator||this.faceDirection!=r.LEFT?this.sprites.spriteSheetPlayerAttack1Left.resetActualsprite():this.sprites.spriteSheetPlayerAttack1Left.animate(4,this.posX-45,this.posY+13,100,90,this.width,this.height),!this.dead&&this.hit&&this.hitRight&&this.health>0&&this.hitCooldown>0&&(this.sprites.spriteSheetPlayerHurtRight.animate(7,this.posX-25,this.posY+8,100,100,this.width,this.height),this.velocityX=-200,this.hitCooldown-=t),!this.dead&&this.hit&&this.hitLeft&&this.health>0&&this.hitCooldown>0&&(this.sprites.spriteSheetPlayerHurtLeft.animate(7,this.posX-25,this.posY+8,100,100,this.width,this.height),this.velocityX=200,this.hitCooldown-=t),this.hitCooldown<=0&&this.hit&&(this.hit=!1,this.hitLeft=!1,this.hitRight=!1,this.stopMovingXAxis()),this.health<=0&&this.faceDirection==r.RIGHT&&(this.dead?this.sprites.spritePlayerDeadRight.drawSprite(this.posX-60,this.posY-30,100,100):this.sprites.spriteSheetPlayerDieRight.animate(8,this.posX-50,this.posY+5,100,100,this.width,this.height),this.timePassedDying+=t,this.timePassedDying>=l.playerDieAnimationTime&&(this.dead=!0)),this.health<=0&&this.faceDirection==r.LEFT&&(this.dead?this.sprites.spritePlayerDeadLeft.drawSprite(this.posX-20,this.posY-30,100,100):this.sprites.spriteSheetPlayerDieLeft.animate(8,this.posX+20,this.posY+5,100,100,this.width,this.height),this.timePassedDying+=t,this.timePassedDying>=l.playerDieAnimationTime&&(this.dead=!0))}}class F{collides=!1;constructor(t,i,e,s,h){this.x=t,this.y=i,this.width=e,this.height=s,this.context=h}draw(){this.context.fillStyle=this.collides?"#a66c6c":"#94c781",this.context.strokeStyle="#000000",this.context.lineWidth=2,this.context.fillRect(this.x,this.y,this.width,this.height),this.context.strokeRect(this.x,this.y,this.width,this.height)}}class T extends F{}class b extends F{}let U;!function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.TOP=2]="TOP",t[t.BOTTOM=3]="BOTTOM",t[t.NONE=4]="NONE"}(U||(U={}));class O extends F{draw(){this.context.fillStyle=this.collides?"#181818":"#c7819a",this.context.strokeStyle="#000000",this.context.lineWidth=2,this.context.fillRect(this.x,this.y,this.width,this.height),this.context.strokeRect(this.x,this.y,this.width,this.height)}}class B{constructor(t,i,e){this.gameObjects=t,this.mapElements=i,this.mapBoundaries=e}applyTopCollusion(){this.mapElements.forEach((t=>{t instanceof T&&this.gameObjects.forEach((i=>{i.velocityY>0&&function(t,i){return!(t.posX>i.width+i.x||t.posY+t.height>i.height+i.y||i.x>t.width+t.posX||i.y>t.height+t.posY)}(i,t)&&(i.posY=t.y-i.height,i.velocityY=i.fallSpeed,i.inAir=!1)}))}))}applyWallCollisions(){this.mapElements.forEach((t=>{t instanceof b&&this.gameObjects.forEach((i=>{switch(this.checkLeftOrRightCollusion(i,t)){case U.LEFT:this.mapElements.filter((t=>t.playerCollides)).length>0&&(i.collides=!0),i.posX=t.x-i.width;break;case U.RIGHT:this.mapElements.filter((t=>t.playerCollides)).length>0&&(i.collides=!0),i.posX=t.x+t.width;break;default:0==this.mapElements.filter((t=>t.playerCollides)).length&&(i.collides=!1),t.collides=!1}}))}))}checkLeftOrRightCollusion(t,i){if(!(t.posX>i.width+i.x||t.posY>i.height+i.y||i.x>t.width+t.posX||i.y>t.height+t.posY))if(i.width<=5){if(t.posX+t.width<=i.x+2*i.width)return i.playerCollides=!0,U.LEFT;if(t.posX>=i.x-i.width)return i.playerCollides=!0,U.RIGHT}else{if(t.posX+t.width<=i.x+i.width)return i.playerCollides=!0,U.LEFT;if(t.posX>=i.x-i.width)return i.playerCollides=!0,U.RIGHT}return i.playerCollides=!1,U.NONE}applyBottomCollusion(){this.mapElements.forEach((t=>{t instanceof O&&this.gameObjects.forEach((i=>{i.velocityY<0&&function(t,i){return!(t.posX>i.width+i.x||t.posY>i.height+i.y||i.x>t.width+t.posX||i.y>t.height+t.posY)}(i,t)&&this.checkLeftOrRightCollusion(i,t)!==U.LEFT&&this.checkLeftOrRightCollusion(i,t)!==U.RIGHT?(t.collides=!0,i.posY=t.y+t.height,i.velocityY=i.fallSpeed):t.collides=!1}))}))}applyMapBoundaries(){this.gameObjects.forEach((t=>{t.posX<this.mapBoundaries[0]?t.posX=this.mapBoundaries[0]:t.posX>this.mapBoundaries[1]&&(t.posX=this.mapBoundaries[1])}))}}var G;G=new URL(a("27Lyk").resolve("5InCD"),import.meta.url).toString();var j;j=new URL(a("27Lyk").resolve("kmxRn"),import.meta.url).toString();var M;M=new URL(a("27Lyk").resolve("3x1nC"),import.meta.url).toString();var W;W=new URL(a("27Lyk").resolve("4NeLc"),import.meta.url).toString();var N;N=new URL(a("27Lyk").resolve("lF0Od"),import.meta.url).toString();var J;J=new URL(a("27Lyk").resolve("3DHVn"),import.meta.url).toString();var V;V=new URL(a("27Lyk").resolve("1Nzm6"),import.meta.url).toString();var q;q=new URL(a("27Lyk").resolve("04oTN"),import.meta.url).toString();var z;z=new URL(a("27Lyk").resolve("aJOfs"),import.meta.url).toString();var K;K=new URL(a("27Lyk").resolve("UO3K2"),import.meta.url).toString();class Z{constructor(t){this.context=t,this.spriteSheetIdleRight=new E(150,54,4,i(G),this.context),this.spriteSheetIdleLeft=new E(150,54,4,i(j),this.context),this.spriteSheetTakeHitRight=new E(150,150,4,i(M),this.context),this.spriteSheetTakeHitLeft=new E(150,150,4,i(W),this.context),this.spriteSheetWalkRight=new E(150,150,4,i(N),this.context),this.spriteSheetWalkLeft=new E(150,150,4,i(J),this.context),this.spriteSheetAttackRight=new E(150,58,7,i(V),this.context),this.spriteSheetAttackLeft=new E(80,58,7,i(q),this.context),this.spriteSheetDieRight=new E(56,54,4,i(z),this.context),this.spriteSheetDieLeft=new E(56,54,4,i(K),this.context)}}class Q extends o{faceDirection=r.RIGHT;health=100;attackDamage=25;attackIndicator=!1;width=l.skeletonWidth;height=l.skeletonHeight;attackHitbox=new c(this.posX,this.posY,2*this.width+10,this.height);timePassedAttack=0;timePassedDying=0;sprites=new Z(this.context);hitCooldown=0;attackCooldown=0;activateDamage=!1;outerBarWidth=this.health;constructor(t,i,e,s,h,a,o,r){super(t,i,e,s,h,a,o),this.referenceGameObject=r}update(t){this.draw(!1,!1),this.drawHealthBar(),this.referenceGameObject.dead?(this.resetAttack(),this.attackIndicator=!1):this.updateMovement(t),this.animate(t),this.applyVelocity(t)}applyVelocity(t){this.posX+=this.velocityX*t,this.fall(t),this.hitCooldown>0&&(this.hitCooldown-=t),this.attackCooldown>0&&(this.attackCooldown-=t)}draw(t,i){this.context.fillStyle=this.collides?"#a66c6c":"#ba81c7",this.hit&&(this.context.fillStyle="#ff0000"),this.context.strokeStyle="#000000",this.context.lineWidth=2,t&&(this.context.fillRect(this.posX,this.posY,this.width,this.height),this.context.strokeRect(this.posX,this.posY,this.width,this.height)),i&&this.context.strokeRect(this.posX,this.posY,this.width,this.height)}updateMovement(t){this.referenceGameObject.posX+this.referenceGameObject.width<this.posX-this.width/2&&!this.attackIndicator?(this.moveLeft(),this.faceDirection=r.LEFT):this.referenceGameObject.posX>this.posX+this.width+this.width/2&&!this.attackIndicator?(this.moveRight(),this.faceDirection=r.RIGHT):this.stopMovingXAxis(),($.rectangularHitBoxIntersect(this.referenceGameObject,{posX:this.posX,posY:this.posY,width:2*this.width,height:this.height})&&this.attackCooldown<=0||$.rectangularHitBoxIntersect(this.referenceGameObject,{posX:this.posX-this.width,posY:this.posY,width:2*this.width,height:this.height})&&this.attackCooldown<=0)&&(this.attackIndicator=!0),this.attackIndicator&&this.hitCooldown<=0&&this.applyAttack(t)}animate(t){!this.hit&&this.faceDirection==r.RIGHT&&0==this.velocityX&&!this.attackIndicator&&this.health>0?this.sprites.spriteSheetIdleRight.animate(12,this.posX-65,this.posY+34,180,100,this.width,this.height):!this.hit&&this.faceDirection==r.LEFT&&0==this.velocityX&&!this.attackIndicator&&this.health>0?this.sprites.spriteSheetIdleLeft.animate(12,this.posX-56,this.posY+34,180,100,this.width,this.height):this.hit&&this.faceDirection==r.RIGHT&&this.health>0?(this.stopMovingXAxis(),this.sprites.spriteSheetTakeHitRight.animate(7,this.posX-65,this.posY-48,180,270,this.width,this.height),this.sprites.spriteSheetTakeHitRight.animationFinished()&&(this.hit=!1)):this.hit&&this.faceDirection==r.LEFT&&this.health>0?(this.stopMovingXAxis(),this.sprites.spriteSheetTakeHitLeft.animate(7,this.posX-65,this.posY-48,180,270,this.width,this.height),this.sprites.spriteSheetTakeHitLeft.animationFinished()&&(this.hit=!1)):this.velocityX<0&&this.faceDirection==r.LEFT&&!this.attackIndicator&&this.health>0?this.sprites.spriteSheetWalkLeft.animate(12,this.posX-72,this.posY-48,180,270,this.width,this.height):this.velocityX>0&&this.faceDirection==r.RIGHT&&!this.attackIndicator&&this.health>0&&this.sprites.spriteSheetWalkRight.animate(12,this.posX-65,this.posY-48,180,270,this.width,this.height),this.attackIndicator&&this.faceDirection==r.RIGHT&&!this.hit&&this.health>0?(this.stopMovingXAxis(),this.sprites.spriteSheetAttackRight.animate(4,this.posX-60,this.posY+35,180,100,this.width,this.height)):this.sprites.spriteSheetAttackRight.resetActualsprite(),this.attackIndicator&&this.faceDirection==r.LEFT&&!this.hit&&this.health>0?(this.stopMovingXAxis(),this.sprites.spriteSheetAttackLeft.animate(4,this.posX-40,this.posY+35,100,105,this.width,this.height)):this.sprites.spriteSheetAttackLeft.resetActualsprite(),this.health<=0&&this.faceDirection==r.RIGHT&&(this.sprites.spriteSheetDieRight.animate(8,this.posX,this.posY+34,60,100,this.width,this.height),this.timePassedDying+=t,this.timePassedDying>=l.skeletonDieAnimationtime&&(this.dead=!0)),this.health<=0&&this.faceDirection==r.LEFT&&(this.sprites.spriteSheetDieLeft.animate(8,this.posX,this.posY+34,60,100,this.width,this.height),this.timePassedDying+=t,this.timePassedDying>=l.skeletonDieAnimationtime&&(this.dead=!0))}setRollPosition(t){}jump(){}resetAttack(){this.attackRight=!1,this.attackLeft=!1,this.activateDamage=!1}applyAttack(t){this.timePassedAttack+=t,this.faceDirection===r.RIGHT&&this.timePassedAttack>l.skeletonActivateHitbox&&(this.context.strokeStyle="#000000",this.attackHitbox={posX:this.posX,posY:this.posY,width:3*this.width,height:this.height},this.timePassedAttack>=l.skeletonAttackSpeed&&(this.attackIndicator=!1,this.attackRight=!0,this.timePassedAttack=0,this.attackCooldown=l.skeletonAttackCooldown,this.activateDamage=!0)),this.faceDirection===r.LEFT&&this.timePassedAttack>l.activateAttackHitbox&&(this.context.strokeStyle="#000000",this.attackHitbox={posX:this.posX-this.width-30,posY:this.posY,width:3*this.width,height:this.height},this.timePassedAttack>=l.skeletonAttackSpeed&&(this.attackIndicator=!1,this.attackLeft=!0,this.timePassedAttack=0,this.attackCooldown=l.skeletonAttackCooldown,this.activateDamage=!0))}drawHealthBar(){this.context.fillStyle="#757474",this.context.fillRect(this.posX-this.width/4,this.posY-this.height/3,this.outerBarWidth/2,8),this.context.fillStyle="#f36f6f",this.context.fillRect(this.posX-this.width/4,this.posY-this.height/3,this.health/2,8)}}class ${static detectCharacterCollusions(t){let i,e;for(const i of t)i.collides=!1;for(let s=0;s<t.length;s++){i=t[s];for(let h=s+1;h<t.length;h++)e=t[h],this.rectangularHitBoxIntersect(i,e)&&(i.collides=!0,e.collides=!0)}}static playerAttackCollusion(t,i){for(const e of i)e instanceof Q&&t.attackIndicator&&this.rectangularHitBoxIntersect(e,t.attackHitbox)&&(t.activateDamage&&(e.health-=t.attackDamage),t.activateDamage=!1,e.hit=!0,e.hitCooldown=l.skeletonHitCooldown)}static skeletonAttackCollusion(t,i){t.activateDamage&&this.rectangularHitBoxIntersect(i,t.attackHitbox)&&(i.health-=t.attackDamage,i.hit=!0,t.attackRight?i.hitLeft=!0:t.attackLeft&&(i.hitRight=!0),i.hitCooldown=l.playerHitCooldown),t.resetAttack()}static rectangularHitBoxIntersect(t,i){return!(t.posX>i.width+i.posX||i.posX>t.width+t.posX||t.posY>i.height+i.posY||i.posY>t.height+t.posY)}static deleteDeadEnemies(t){return t.filter((t=>!t.dead))}static gameOver(t){}}class tt extends class{constructor(t,i,e,s,h,a){this.context=t,this.mapElements=i,this.player=e,this.enemies=s,this.collusion=new B(this.enemies.concat(this.player),this.mapElements,h),this.context.strokeStyle="#000000",this.context.lineWidth=5,this.levelImage=new Image,this.levelImage.src=a}update(t){this.draw(),this.enemies.forEach((i=>i.update(t))),this.player.update(t),this.collusion.applyTopCollusion(),this.collusion.applyWallCollisions(),this.collusion.applyBottomCollusion(),this.collusion.applyMapBoundaries(),this.enemies.length>0&&$.skeletonAttackCollusion(this.enemies[0],this.player),$.playerAttackCollusion(this.player,this.enemies),this.enemies=$.deleteDeadEnemies(this.enemies)}draw(){this.context.drawImage(this.levelImage,0,0)}}{}class it{constructor(t,i){this.player=t,this.context=i,this.outerBarAddConst=4,this.outerBarWidth=t.health+this.outerBarAddConst}drawUI(){this.drawHealthBar()}drawHealthBar(){this.context.fillStyle="#757474",this.context.fillRect(10,10,3*this.outerBarWidth,24),this.context.fillStyle="#f36f6f",this.context.fillRect(10+3*this.outerBarAddConst/2,12,3*this.player.health,20),this.context.font="bold 15px Arial",this.context.fillStyle="black",this.context.fillText(`${this.player.health}`,20,27)}}var et;et=new URL(a("27Lyk").resolve("aeL0w"),import.meta.url).toString();class st{levels=[];constructor(t,e,s){this.levels.push(new tt(t,[new T(0,700,1800,10,t),new T(0,600,280,10,t)],e,s,[20,1750],i(et))),this.playerUI=new it(e,t)}update(t){this.levels[0].update(t),this.playerUI.drawUI()}}let ht,at,ot,rt,nt,lt=0,ct=0;function dt(t){lt=(t-ct)/1e3,ct=t,lt=Math.min(lt,.1),at.clearRect(0,0,ht.width,ht.height),nt.update(lt),window.requestAnimationFrame(dt)}window.onload=()=>{document.getElementById("loadingScreen").style.display="none",document.getElementById("startScreen").style.display="block",document.getElementById("startButton").addEventListener("click",(()=>{document.getElementById("canvasContainer").style.display="block",document.getElementById("startScreen").style.display="none",ht=document.getElementById("gridCanvas"),at=ht.getContext("2d"),ht.width=1800,ht.height=800,ot=new Y(at,20,450,l.playerMoveSpeed,l.playerJumpSpeed,l.playerWidth,l.playerHeight),rt=class{static spawnEnemies(t,i,e){let s=[];for(let h=0;h<=t;h++)s.push(new Q(i,Math.floor(500*Math.random()+700),550,l.skeletonMovementSpeed,300,l.skeletonWidth,l.skeletonHeight,e));return s}}.spawnEnemies(0,at,ot),nt=new st(at,ot,rt),window.requestAnimationFrame(dt)}))};
//# sourceMappingURL=index.139226a6.js.map
